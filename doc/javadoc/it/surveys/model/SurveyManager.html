<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (1.8.0_66) on Sat Mar 05 20:16:54 CET 2016 -->
<title>SurveyManager</title>
<meta name="date" content="2016-03-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SurveyManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SurveyManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../it/surveys/model/SurveyDCS.html" title="class in it.surveys.model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../it/surveys/model/UserDAO.html" title="class in it.surveys.model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?it/surveys/model/SurveyManager.html" target="_top">Frames</a></li>
<li><a href="SurveyManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.surveys.model</div>
<h2 title="Class SurveyManager" class="title">Class SurveyManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.surveys.model.SurveyManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SurveyManager</span>
extends java.lang.Object</pre>
<div class="block">La classe SurveyManager classe e' il cuore del model e gestisce tutte le azioni che riguardano i sondaggi,
 difatti offre i suoi servizi alla classe SurveyAction.
 Il manager, poi, utilizza i servizi del secondo livello del model: le classi DAO e DCS.
 Saranno queste ultime a dialogare con il Database.
 Infine il manager e' stato implementato come una factory con pattern singleton.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0 26/02/16</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>L.Camerlengo</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#SurveyManager--">SurveyManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#delete-it.surveys.domain.Survey-">delete</a></span>(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s)</code>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDAO.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#displayAllowedSurveys-int-">displayAllowedSurveys</a></span>(int&nbsp;idUser)</code>
<div class="block">Questo metodo chiama semplicemente il corrispondente del livello inferiore in SurveyDCS.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#displayCreatedSurveys--">displayCreatedSurveys</a></span>()</code>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#displayResults-int-">displayResults</a></span>(int&nbsp;idSurvey)</code>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../it/surveys/model/SurveyManager.html" title="class in it.surveys.model">SurveyManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#getSurveyManager--">getSurveyManager</a></span>()</code>
<div class="block">Il metodo e' l'implementazione del pattern singleton per avere una sola
 istanza della classe.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#insert-it.surveys.domain.Survey-int:A-">insert</a></span>(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s,
      int[]&nbsp;categories)</code>
<div class="block">Questo metodo chiama due metodi dei livelli inferiori per effettuare l'inserimento del sondaggio sul
 database; In particolare si inserisce prima il sondaggio nel database e se tutto va a buon fine si inseriscono
 le relative associazioni con le categorie.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#insertAnswer-int-int-java.lang.String-">insertAnswer</a></span>(int&nbsp;idSurvey,
            int&nbsp;idUser,
            java.lang.String&nbsp;answer)</code>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../it/surveys/model/SurveyManager.html#retrieve-it.surveys.domain.Survey-">retrieve</a></span>(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s)</code>
<div class="block">Questo metodo utilizza il corrispondente del livello inferiore in SurveyDAO per recuperare
 i dati del sondaggio e restituisce una LinkedHashMap<String, String> in cui chiave e valore sono
 identici e corrispondono alle possibili risposte del sondaggio.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SurveyManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SurveyManager</h4>
<pre>public&nbsp;SurveyManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSurveyManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSurveyManager</h4>
<pre>public static&nbsp;<a href="../../../it/surveys/model/SurveyManager.html" title="class in it.surveys.model">SurveyManager</a>&nbsp;getSurveyManager()</pre>
<div class="block">Il metodo e' l'implementazione del pattern singleton per avere una sola
 istanza della classe. Quando viene chiamato per la prima volta istanzia
 e ritorna un nuovo oggetto di tipo SurveyManager, mentre le volte successive,
 ritorna l'oggetto che e' stato istanziato la prima volta e che e' stato
 salvato in un attributo privato e statico, <a href="../../../it/surveys/model/SurveyManager.html#sm"><code>sm</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>sm l'oggetto singleton SurveyManager</dd>
</dl>
</li>
</ul>
<a name="insert-it.surveys.domain.Survey-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;java.lang.String&nbsp;insert(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s,
                               int[]&nbsp;categories)</pre>
<div class="block">Questo metodo chiama due metodi dei livelli inferiori per effettuare l'inserimento del sondaggio sul
 database; In particolare si inserisce prima il sondaggio nel database e se tutto va a buon fine si inseriscono
 le relative associazioni con le categorie.
 Restituisce "success" se l'inserimento del sondaggio con le relative associazioni con le categorie sono state
 inserite correttamente nel database, "db_fail" altrimenti.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Survey</dd>
<dd><code>categories</code> - int[] array degli id delle categorie</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String esito dell'inserimento</dd>
</dl>
</li>
</ul>
<a name="retrieve-it.surveys.domain.Survey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieve</h4>
<pre>public&nbsp;java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;retrieve(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s)</pre>
<div class="block">Questo metodo utilizza il corrispondente del livello inferiore in SurveyDAO per recuperare
 i dati del sondaggio e restituisce una LinkedHashMap<String, String> in cui chiave e valore sono
 identici e corrispondono alle possibili risposte del sondaggio. Ovviamente hanno due significati
 diversi, la chiave corrisponde al contenuto vero e proprio che poi andrà nel DB, il valore
 corrisponde al label da visualizzare nella pagine jsp.
 La collezione cosi' costruita costituira' il contenuto dell'attributo "list" del tag
 <s:radio> secondo la sintassi di Struts2.
 Infine, solo come valore di appoggio da passare alla action, viene inserita nella LinkedHashMap anche
 la domanda del sondaggio.
 In caso di errore viene restituito null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Survey</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>LinkedHashMap<String, String> collezione di coppie (key, value)</dd>
</dl>
</li>
</ul>
<a name="delete-it.surveys.domain.Survey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;java.lang.String&nbsp;delete(<a href="../../../it/surveys/domain/Survey.html" title="class in it.surveys.domain">Survey</a>&nbsp;s)</pre>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDAO.
 Se la cancellazione del sondaggio e' andata a buon fine restituisce "success", "db_fail" altrimenti.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Survey</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String esito della cancellazione del sondaggio</dd>
</dl>
</li>
</ul>
<a name="displayResults-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displayResults</h4>
<pre>public&nbsp;java.lang.String&nbsp;displayResults(int&nbsp;idSurvey)</pre>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.
 Restituisce una stringa formattata in HTML con una tabella contenente i risultati di un determinato sondaggio,
 altrimenti se qualcosa e' andato storto restituisce "db_fail".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>idSurvey</code> - int</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String Risultati di un determinato sondaggio</dd>
</dl>
</li>
</ul>
<a name="displayCreatedSurveys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displayCreatedSurveys</h4>
<pre>public&nbsp;java.lang.String&nbsp;displayCreatedSurveys()</pre>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.
 Restituisce stringa formattata in HTML con una tabella contenente i sondaggi presenti nel database, altrimenti
 se non e' presente alcun sondaggio nel database viene restiuito un messaggio sotto forma di stringa, altrimenti 
 se qualcosa e' andato storto restituisce "db_fail".</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String stringa formattata opportunamente</dd>
</dl>
</li>
</ul>
<a name="displayAllowedSurveys-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displayAllowedSurveys</h4>
<pre>public&nbsp;java.lang.String&nbsp;displayAllowedSurveys(int&nbsp;idUser)</pre>
<div class="block">Questo metodo chiama semplicemente il corrispondente del livello inferiore in SurveyDCS.
 Restituisce una stringa formattata in HTML con una tabella contenente i sondaggi appartenenti
 alle categorie di interesse per l'utente presenti nel database, altrimenti se non e' presente
 alcun sondaggio associato alle categorie di interesse dell'utente restituisce un messaggio sotto
 forma di stringa, altrimenti se qualcosa e' andato storto restituisce "db_fail".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>idUser</code> - int</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String stringa formattata opportunamente</dd>
</dl>
</li>
</ul>
<a name="insertAnswer-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>insertAnswer</h4>
<pre>public&nbsp;java.lang.String&nbsp;insertAnswer(int&nbsp;idSurvey,
                                     int&nbsp;idUser,
                                     java.lang.String&nbsp;answer)</pre>
<div class="block">Questo metodo chiama semplicemente il corrispondente metodo del livello inferiore in SurveyDCS.
 Restituisce "success" se l'inserimento della risposta e' andato a buon fine, "db_fail" altrimenti.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>idSurvey</code> - int</dd>
<dd><code>idUser</code> - int</dd>
<dd><code>answer</code> - String</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String esito dell'inserimento della risposta</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SurveyManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../it/surveys/model/SurveyDCS.html" title="class in it.surveys.model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../it/surveys/model/UserDAO.html" title="class in it.surveys.model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?it/surveys/model/SurveyManager.html" target="_top">Frames</a></li>
<li><a href="SurveyManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
